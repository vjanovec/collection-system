(this["webpackJsonpreal-time-react"]=this["webpackJsonpreal-time-react"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(58),r=a(4),o=a(5),s=a(7),c=a(6),i=a(8),l=a(0),d=a.n(l),u=a(22),m=a.n(u),h=(a(92),l.Component,a(16)),p=(a(93),a(18)),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state=Object(h.a)({},e),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement(p.a,{className:"branch-order noselect "+(this.state.orderData.isOrderReady?"bg-success":"bg-light")},d.a.createElement("p",{class:"digit"},this.state.orderData.orderDigit))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(h.a)({},e)}}]),t}(d.a.Component),f=(a(51),a(19)),g=a(12),E=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).state={orders:[],endpoint:"http://localhost:8000",alert:null},e}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.endpoint,a=m()(t);this.setState({socket:a}),a.on("orders",(function(t){console.log(t),e.setState({orders:t})}))}},{key:"render",value:function(){var e=null;return this.state.orders&&(e=this.state.orders.map((function(e){return d.a.createElement(g.a,{sm:6,md:4,lg:3},d.a.createElement(b,{orderData:e}))}))),d.a.createElement("div",{className:"wrapper"},d.a.createElement(p.a,{className:"container-order"},d.a.createElement(f.a,{className:"row-order"},e)))}}]),t}(d.a.Component),v=a(14),j=(a(94),a(95),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:this.props.color+" branch-button text-white",onClick:this.props.click},this.props.children)}}]),t}(d.a.Component)),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).elapsedTime=function(){var e=(new Date).getMinutes-10,t=((new Date).getTime()-e)/1e3;if(t>=0){var a={};a.minutes=Math.floor(t/60%60),a.seconds=Math.floor(t%60);var n="".concat(a.minutes,":").concat(a.seconds);n=n.replace(/(?:0. )+/,""),alert(n)}else alert("Elapsed time lesser than 0, i.e. specified datetime is still in the future.")},a.state=Object(h.a)({},e),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.updateHandler,n=t.deleteHandler;return d.a.createElement(p.a,{className:"branch-order noselect "+(this.state.orderData.isOrderReady?"bg-success":"bg-light")},d.a.createElement("p",{class:"digit"},this.state.orderData.orderDigit),d.a.createElement("p",{class:"name"},this.state.orderData.orderCustomerName),d.a.createElement("p",{class:"timer"}),d.a.createElement(f.a,null,this.state.orderData.isOrderReady?null:d.a.createElement(g.a,{style:{padding:0}},d.a.createElement(j,{color:"bg-success",click:function(){return a(e.state.orderData.orderDigit)}},d.a.createElement("i",{className:"fas fa-check icon"}))),d.a.createElement(g.a,{style:{padding:0}},d.a.createElement(j,{color:this.state.orderData.isOrderReady?"bg-dark":"bg-danger",click:function(){return n(e.state.orderData.orderDigit)}},d.a.createElement("i",{className:" fas fa-trash icon"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(h.a)({},e)}}]),t}(d.a.Component),H=(a(96),a(57)),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this))).numberChangeHandler=function(e){var t=parseInt(e.target.value);a.setState({orderDigit:t})},a.nameChangeHandler=function(e){a.setState({orderCustomerName:e.target.value})},a.autogenerateHandler=function(){fetch(a.state.endpoint+"/last-order").then((function(e){return e.json()})).then((function(e){a.setState({orderDigit:e.lastOrderDigit+1})}))},a.state=Object(h.a)({},e),a.setState({orderDigit:1}),a.numberChangeHandler=a.numberChangeHandler.bind(Object(v.a)(a)),a.nameChangeHandler=a.nameChangeHandler.bind(Object(v.a)(a)),a.autogenerateHandler=a.autogenerateHandler.bind(Object(v.a)(a)),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.addHandler,n=t.updateHandler,r=t.deleteHandler;return d.a.createElement("div",{className:"bg-light branch-form noselect"},d.a.createElement("p",{className:"label"},"Zadejte po\u0159adov\xe9 \u010d\xedslo"),d.a.createElement("input",{id:"number-input",type:"number",className:"number-input",value:this.state.orderDigit,onChange:this.numberChangeHandler,autoFocus:!0}),d.a.createElement("button",{className:"autogen-btn bg-primary",onClick:this.autogenerateHandler},"AUTO GENERATE"),d.a.createElement("p",{className:"label"},"Zadejte jm\xe9no, \u010d\xedslo objedn\xe1vky nebo identifika\u010dn\xed kl\xed\u010d"),d.a.createElement("input",{id:"number-input",type:"text",className:"name-input",onChange:this.nameChangeHandler}),this.state.alert?d.a.createElement(H.a,{variant:this.state.alert.isAlertPositive?"success":"danger"},this.state.alert.alertContent):null,d.a.createElement(f.a,null,d.a.createElement(g.a,{style:{padding:0}},d.a.createElement(j,{color:"bg-primary",click:function(){return a(e.state.orderDigit,e.state.orderCustomerName,!1)}},d.a.createElement("i",{className:"fas fa-plus icon"}))),d.a.createElement(g.a,{style:{padding:0}},d.a.createElement(j,{color:"bg-success",click:function(){return n(e.state.orderDigit)}},d.a.createElement("i",{className:"fas fa-check icon"}))),d.a.createElement(g.a,{style:{padding:0}},d.a.createElement(j,{color:"bg-danger",click:function(){return r(e.state.orderDigit)}},d.a.createElement("i",{className:"fas fa-trash icon"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Object(h.a)({},e)}}]),t}(d.a.Component),D=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).updateHandler=function(t){fetch(e.state.endpoint+"/update-order/"+t,{method:"PUT"}).then((function(e){return e.json()})).then((function(t){return e.setState({alert:{alertContent:t.response.content,isAlertPositive:t.response.isPositive}})})).catch((function(e){return console.log(e)}))},e.deleteHandler=function(t){fetch(e.state.endpoint+"/delete-order/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){return e.setState({alert:{alertContent:t.response.content,isAlertPositive:t.response.isPositive}})})).catch((function(e){return console.log(e)}))},e.addHandler=function(t,a,n){t&&fetch(e.state.endpoint+"/add-order/",{method:"POST",body:JSON.stringify({orderDigit:t,orderCustomerName:a,isOrderReady:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({alert:{alertContent:t.response.content,isAlertPositive:t.response.isPositive}})})).catch((function(e){return console.log(e)}))},e.state={orders:[],endpoint:"http://localhost:8000",alert:null},e.updateHandler.bind(Object(v.a)(e)),e.deleteHandler.bind(Object(v.a)(e)),e.addHandler.bind(Object(v.a)(e)),e}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.endpoint,a=m()(t);this.setState({socket:a}),a.on("orders",(function(t){console.log(t),e.setState({orders:t})}))}},{key:"render",value:function(){var e=this,t=null;return this.state.orders&&(t=this.state.orders.map((function(t){return d.a.createElement(g.a,{sm:6,md:3,lg:3},d.a.createElement(O,{orderData:t,updateHandler:e.updateHandler,deleteHandler:e.deleteHandler}))}))),d.a.createElement("div",{className:"wrapper"},d.a.createElement(y,{endpoint:this.state.endpoint,addHandler:this.addHandler,updateHandler:this.updateHandler,deleteHandler:this.deleteHandler,alert:this.state.alert}),d.a.createElement(p.a,{className:"container-order"},d.a.createElement(f.a,{className:"row-order"},t)))}}]),t}(d.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(25),C=a.n(k),N=a(54),S=a(20),w=d.a.createElement(N.a,null,d.a.createElement("div",null,d.a.createElement(S.a,{exact:!0,path:"/",component:E}),d.a.createElement(S.a,{exact:!0,path:"/branch",component:D})));C.a.render(w,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,a){},59:function(e,t,a){e.exports=a(104)},89:function(e,t){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.17df5b7d.chunk.js.map